<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="som.sunny.mappers.AdMember_Mapper">

	<select id="memberList" resultType="MemberVO">
		select mb_id,mb_name,mb_email,mb_phone,mb_zipcode,mb_add,mb_add_d,mb_add_d,mb_nickname
		from member
	</select>
	<select id="memberCount" resultType="int">
		select count(mb_id) from member
		<include refid="search"/>
	</select>
	<sql id="search">
		<if test="searchType != null">
			<if test="searchType =='name'.toString()">
				where mb_name like '%' || #{keyword} || '%'
			</if>
			<if test="searchType =='nickname'.toString()">
				where mb_nickname like '%' || #{keyword} || '%'
			</if>
			<if test="searchType =='id'.toString()">
				where mb_id like '%' || #{keyword} || '%'
			</if>
		</if>
	</sql>
</mapper>